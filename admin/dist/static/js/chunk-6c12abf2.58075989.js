(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c12abf2"],{"00d1":function(e,t,n){},"025b":function(e,t,n){},"03bc":function(e,t,n){"use strict";n("00d1")},"10db5":function(e,t,n){"use strict";n("7a18")},"22ec":function(e,t,n){},4231:function(e,t,n){e.exports=n.p+"static/img/nothing.6a67b59e.png"},4402:function(e,t,n){"use strict";n("ab34")},4837:function(e,t,n){"use strict";n("7bf9")},"51af":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o}));var r=n("b775");function a(e){return Object(r["a"])({url:"/admin/user_bucket/getBucketList",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/user_bucket/createBucket",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/user_bucket/deleteBucket",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/admin/user_bucket/getBucketMembers",method:"post",data:e})}},5763:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{attrs:{inline:"","label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{label:"提现状态"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.selectState,callback:function(t){e.selectState=t},expression:"selectState"}},e._l(e.stateOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{"highlight-current-row":"",data:e.withdrawalList,"row-key":"withdrawal_id",border:""}},[n("el-table-column",{attrs:{align:"center",label:"申请金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.amount/100)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"提现前总收入"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.before_total_income/100)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"提现前剩余可提现收益"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.before_availble_income/100)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"总销"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.总销.nickname)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"申请时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.create_time)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"确认时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.verify_time)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"审核结果"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.msg)+" ")]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","class-name":"status-col",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r.state)}},[e._v(" "+e._s(e._getStateStr(r.state))+" ")])]}}])}),n("el-table-column",{attrs:{align:"center",width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.ackUserWithdrawal(t.row)}}},[e._v("审核")])]}}])})],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"提现审核"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e._getDefaultImg(e.userWithdrawal.avatar)}}),n("div",[n("p",[n("span",[e._v("卡号：")]),e._v(e._s(e.userWithdrawal.payee_bankno))]),n("p",[n("span",[e._v("开户行：")]),e._v(e._s(e.userWithdrawal.payee_bankname))]),n("p",[n("span",[e._v("收款人：")]),e._v(e._s(e.userWithdrawal.payee_name))]),n("p",[n("span",[e._v("手机号：")]),e._v(e._s(e.userWithdrawal.phone))]),n("p",[n("span",[e._v("申请金额：")]),e._v(e._s(e.userWithdrawal.amount/100))]),n("p",[n("span",[e._v("提现前总收入：")]),e._v(e._s(e.userWithdrawal.before_total_income/100))]),n("p",[n("span",[e._v("提现前剩余可提现收益：")]),e._v(e._s(e.userWithdrawal.before_availble_income/100))])])]),n("el-form",{attrs:{"label-width":"120px",model:e.userWithdrawal,"label-position":"left"}},[n("el-form-item",{attrs:{label:"审核备注"}},[n("el-input",{attrs:{placeholder:"审核备注"},model:{value:e.userWithdrawal.ack_reason,callback:function(t){e.$set(e.userWithdrawal,"ack_reason",t)},expression:"userWithdrawal.ack_reason"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.updateUserWithdrawal(-1)}}},[e._v("拒绝")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateUserWithdrawal(1)}}},[e._v("同意")])],1)],1),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],s=n("5530"),i=n("1da1"),o=(n("96cf"),n("a9e3"),n("2ef0"),n("c24f")),l={filters:{stateFilter:function(e){return 0==e?"danger":1==e?"success":"warning"}},name:"withdrawal",props:{uid:{type:Number}},data:function(){return{listLoading:!0,withdrawalList:[],userWithdrawal:[],dialogVisible:!1,page:{page_index:0,page_size:10,total_count:0},selectState:0,stateOptions:[{label:"申请中",value:0},{label:"拒绝",value:-1},{label:"通过",value:1}]}},computed:{},created:function(){this.getList()},methods:{_getDefaultImg:function(e){return e||n("4231")},_getStateStr:function(e){return 0==e?"申请中":1==e?"通过":"拒绝"},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{uid:e.uid,state:e.selectState}),t.next=3,e.uid?Object(o["x"])(n):Object(o["y"])(n);case 3:r=t.sent,e.withdrawalList=r.data.list,e.page.page_index=r.data.page_index,e.page.page_size=r.data.page_size,e.page.total_count=r.data.total_count,e.listLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},ackUserWithdrawal:function(e){this.userWithdrawal=e,this.dialogVisible=!0},updateUserWithdrawal:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.userWithdrawal.ack=e,r={uid:t.userWithdrawal.uid,withdrawal_id:t.userWithdrawal.id,ack:e,ack_reason:t.userWithdrawal.ack_reason},n.next=4,Object(o["a"])(r);case 4:a=n.sent,s=a.res_code,i=a.msg,t.$message({message:i,type:s>0?"success":"error"}),s>0&&(t.getList(),t.dialogVisible=!1);case 9:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getList();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getList();case 3:case"end":return n.stop()}}),n)})))()}}},c=l,u=(n("73bd"),n("2877")),d=Object(u["a"])(c,r,a,!1,null,"2a82ca41",null);t["default"]=d.exports},"73bd":function(e,t,n){"use strict";n("a2e4")},"7a18":function(e,t,n){},"7bf9":function(e,t,n){},"92e8":function(e,t,n){},a2e4:function(e,t,n){},a9bd:function(e,t,n){e.exports=n.p+"static/img/93.38a1d6a4.png"},ab34:function(e,t,n){},b09c:function(e,t,n){"use strict";n("22ec")},b26b:function(e,t,n){"use strict";n("92e8")},c1f5:function(e,t,n){"use strict";n("025b")},c405:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l}));var r=n("b775");function a(e){return Object(r["a"])({url:"/admin/category/getCategory",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/category/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/category/update",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/admin/category/delete",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/admin/oss/getAuth",method:"post",data:e})}},cbfe:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l}));var r=n("b775");function a(e){return Object(r["a"])({url:"/admin/coupon/getCoupon",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/coupon/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/coupon/update",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/admin/coupon/delete",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/admin/coupon/setUserCoupon",method:"post",data:e})}},daa8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{attrs:{inline:"","label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{placeholder:"姓名"},model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{attrs:{placeholder:"手机号"},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1),n("el-form-item",{attrs:{label:"有无推荐人"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.has_recommender,callback:function(t){e.$set(e.search,"has_recommender",t)},expression:"search.has_recommender"}},e._l(e.has_recommenderoptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"是否恶意用户"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.isbad,callback:function(t){e.$set(e.search,"isbad",t)},expression:"search.isbad"}},e._l(e.isbadoptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-button",{attrs:{type:"success"},on:{click:function(t){return e.getUserList(!0)}}},[e._v("搜索")]),n("el-button",{attrs:{type:"warning"},on:{click:e.exportUserList}},[e._v("导出")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSetCoupon}},[e._v("发放优惠券")]),n("el-tooltip",{attrs:{placement:"bottom",content:"清空所有用户提前抢购特权"}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:function(t){return e.onClearAllUser("TQ")}}},[e._v("清空特权")])],1),n("el-tooltip",{attrs:{placement:"bottom",content:"清空所有用户黑名单商品"}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:function(t){return e.onClearAllUser("HMD")}}},[e._v("清空黑名单")])],1)],1),n("el-table",{ref:"userTable",staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.userList,height:e.tableHeight,border:""}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"出售订单"}},[n("order-list",{attrs:{uid:e.row.uid,orderType:"sale"}})],1),n("el-tab-pane",{attrs:{label:"购买订单"}},[n("order-list",{attrs:{uid:e.row.uid,orderType:"buy"}})],1),n("el-tab-pane",{attrs:{label:"提现申请"}},[n("withdrawal",{attrs:{uid:e.row.uid}})],1),n("el-tab-pane",{attrs:{label:"优惠券"}},[n("couponList",{attrs:{uid:e.row.uid}})],1),n("el-tab-pane",{attrs:{label:"抢购商品"}},[n("userGoodsRush",{attrs:{uid:e.row.uid}})],1),n("el-tab-pane",{attrs:{label:"粉丝"}},[n("userfans",{attrs:{uid:e.row.uid}})],1)],1)]}}])}),n("el-table-column",{attrs:{align:"center",width:"130","show-overflow-tooltip":!0,label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",width:"90",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("img",{staticClass:"goods-img",attrs:{src:e._getDefaultImg(t.row.avatar),alt:""}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"昵称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nickname)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"银行卡信息",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"div-recommender"},[n("p",[e._v("收款人 "+e._s(t.row.payee_name))]),n("p",[e._v("卡号 "+e._s(t.row.payee_bankno))]),n("p",[e._v("开户行 "+e._s(t.row.payee_bankname))])])]}}])}),e._e(),n("el-table-column",{attrs:{align:"center",label:"推荐人",width:"180","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"div-recommender"},[n("p",[e._v(" 推荐人 "),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.row.recommender_nickname))])]),n("p",[e._v("手机号 "+e._s(t.row.recommender_phone))])])]}}])}),n("el-table-column",{attrs:{align:"center",label:"分仓类型",width:"180","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.updateBucket(t.row)}}},[e._v(" "+e._s(t.row.bucket_name||"总仓")+" ")])]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","class-name":"status-col",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r.state)}},[e._v(" "+e._s(e._getStateStr(r.state))+" ")])]}}])}),n("el-table-column",{attrs:{label:"恶意用户",align:"center","class-name":"status-col",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:r.bad?"success":"warning"}},[e._v(" "+e._s(r.bad?"是":"否")+" ")])]}}])}),n("el-table-column",{attrs:{label:"管理员",align:"center","class-name":"status-col",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:r.roles.indexOf(1)>-1?"success":"warning"}},[e._v(" "+e._s(r.roles.indexOf(1)>-1?"是":"否")+" ")])]}}])}),n("el-table-column",{attrs:{label:"银行卡",align:"center","class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:r.edit_bank_access?"success":"warning"}},[e._v(" "+e._s(r.edit_bank_access?"可编辑":"不可编辑")+" ")])]}}])}),n("el-table-column",{attrs:{label:"阅读协议",align:"center","class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:r.has_read_protocol?"success":"warning"}},[e._v(" "+e._s(r.has_read_protocol?"是":"否")+" ")])]}}])}),n("el-table-column",{attrs:{align:"center",width:"90",label:"签名"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("img",{staticClass:"goods-img",attrs:{src:e._getDefaultImg(t.row.sign),alt:""}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("权限设置")]),0!=t.row.state?n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.handleModifyState(t.row,"forbidden")}}},[e._v(" 禁用 ")]):e._e(),0==t.row.state?n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.handleModifyState(t.row,"allow")}}},[e._v(" 启用 ")]):e._e(),n("el-dropdown",{staticStyle:{"margin-left":"10px"},on:{command:e.moreSetting}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" 更多设置"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:{key:"openBucket",scope:t}}},[e._v("开启分仓")]),n("el-dropdown-item",{attrs:{command:{key:"resetPwd",scope:t}}},[e._v("重置密码")]),n("el-dropdown-item",{attrs:{command:{key:"setUserRecommender",scope:t}}},[e._v("设置推荐人")]),n("el-dropdown-item",{attrs:{command:{key:"setBankAccess",scope:t}}},[e._v("银行卡可编辑")]),n("el-dropdown-item",{attrs:{command:{key:"setBad",scope:t}}},[e._v(e._s(0==t.row.bad?"设置恶意用户":"取消恶意用户"))]),n("el-dropdown-item",{attrs:{command:{key:"setAdmin",scope:t}}},[e._v(e._s(t.row.roles&&-1==t.row.roles.indexOf(1)?"设为管理员":"取消管理员"))]),n("el-dropdown-item",{attrs:{command:{key:"resetUser",scope:t}}},[e._v("账号恢复")]),n("el-dropdown-item",{staticStyle:{color:"red"},attrs:{divided:"",command:{key:"deleteUser",scope:t}}},[e._v("删除用户")])],1)],1)]}}])})],1),n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.submitBtnLock,expression:"submitBtnLock"}],attrs:{visible:e.dialogVisible,"close-on-click-modal":!1,title:"特权设置"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e._getDefaultImg(e.usergod.avatar)}}),n("div",[n("p",[n("span",[e._v("手机号：")]),e._v(e._s(e.usergod.phone))]),n("p",[n("span",[e._v("用户ID：")]),e._v(e._s(e.usergod.uid))]),n("p",[n("span",[e._v("昵称：")]),e._v(e._s(e.usergod.nickname))]),n("p",[n("span",[e._v("注册时间：")]),e._v(e._s(e.usergod.create_time))]),n("p",[n("span",[e._v("最后登录时间：")]),e._v(e._s(e.usergod.last_login_time))])])]),n("hr",{staticStyle:{border:"none","border-bottom":"solid 1px #ababab"}}),e.usergod&&e.usergod.god?n("el-form",{attrs:{model:e.usergod,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{label:"特权抢购上限"}},[n("div",[n("el-input-number",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",min:0,max:1e5,label:"描述文字"},model:{value:e.usergod.god.limit.data,callback:function(t){e.$set(e.usergod.god.limit,"data",t)},expression:"usergod.god.limit.data"}})],1)]),e._e(),n("el-form-item",{attrs:{label:"提前抢购(秒)"}},[n("div",[n("el-input-number",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",min:0,max:1e5,label:"描述文字"},model:{value:e.usergod.god.godtime.data,callback:function(t){e.$set(e.usergod.god.godtime,"data",t)},expression:"usergod.god.godtime.data"}})],1)]),n("el-form-item",{attrs:{label:"特权有效期(天)"}},[n("div",[n("el-input-number",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",min:1,max:1e5},model:{value:e.usergod.god.ttl.ttl,callback:function(t){e.$set(e.usergod.god.ttl,"ttl",t)},expression:"usergod.god.ttl.ttl"}}),e.usergod.god.godtime.use&&e.usergod.god.limit.use?n("span",{staticStyle:{color:"#999","margin-left":"20px"}},[e._v("特权设置时间:"+e._s(e.usergod.god.ttl.time))]):e._e()],1)])],1):e._e(),n("hr",{staticStyle:{border:"none","border-bottom":"solid 1px #ababab"}}),e.usergod&&e.usergod.god?n("el-form",{attrs:{model:e.usergod,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{label:"商品黑名单"}},[n("div",[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:e.selectBlackListGoods}},[e._v("指定商品")])],1),n("div",{staticClass:"selected-black-list"},e._l(e.usergod.god.blacklist.data,(function(t,r){return n("div",{key:r,staticStyle:{display:"inline-block"}},[n("div",{staticClass:"blacklist-element"},[n("img",{attrs:{src:e._getFirstImg(t.img),alt:""}}),n("div",[n("p",[e._v("商品id："+e._s(t.gid))]),n("p",[e._v(e._s(t.name))])])])])})),0)])],1):e._e(),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger",disabled:e.submitBtnLock},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary",disabled:e.submitBtnLock},on:{click:e.updateUserGodState}},[e._v("保存")])],1)],1),n("el-dialog",{attrs:{visible:e.goodsListDialogVisible,"close-on-click-modal":!1,title:"选择商品列表"},on:{"update:visible":function(t){e.goodsListDialogVisible=t}}},[n("dnd-list",{attrs:{list1:e.dndList1,list2:e.dndList2,"list1-title":"用户商品黑名单","list2-title":"抢购商品列表"}}),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger",disabled:e.submitBtnLock},on:{click:function(t){e.goodsListDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",disabled:e.submitBtnLock},on:{click:e.blackListFinish}},[e._v("保存")])],1)],1),n("el-dialog",{attrs:{title:"设置推荐人",visible:e.setRecommenderDialogVisible},on:{"update:visible":function(t){e.setRecommenderDialogVisible=t}}},[n("el-form",{attrs:{model:e.userPwd}},[n("el-form-item",{attrs:{label:"设置用户 "+e.userPwd.nickname+"("+e.userPwd.phone+") 的推荐人"}},[n("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入手机号或昵称","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.recommenderId,callback:function(t){e.recommenderId=t},expression:"recommenderId"}},e._l(e.recommenderList,(function(e){return n("el-option",{key:e.uid,attrs:{label:e.nickname+"("+e.phone+")",value:e.uid}})})),1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.setRecommenderDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSetRecommender}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"重置用户密码",visible:e.resetPwdDialogVisible},on:{"update:visible":function(t){e.resetPwdDialogVisible=t}}},[n("el-form",{attrs:{model:e.userPwd}},[n("el-form-item",{attrs:{label:"用户 "+e.userPwd.nickname+"("+e.userPwd.phone+") 新密码"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.userPwd.new_pwd,callback:function(t){e.$set(e.userPwd,"new_pwd",t)},expression:"userPwd.new_pwd"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resetPwdDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onResetUserPwd}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"选择优惠券",visible:e.couponDialogVisible},on:{"update:visible":function(t){e.couponDialogVisible=t}}},[n("el-form",[n("el-form-item",{attrs:{label:"选择优惠券"}},[n("el-select",{attrs:{placeholder:"选择优惠券"},model:{value:e.coupon,callback:function(t){e.coupon=t},expression:"coupon"}},e._l(e.selectCouponList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.couponDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSetUserCoupon}},[e._v("确 定")])],1)],1),e.dialogVisibleBucket?n("el-dialog",{attrs:{title:"修改分仓",visible:e.dialogVisibleBucket},on:{"update:visible":function(t){e.dialogVisibleBucket=t}}},[n("el-form",[n("el-form-item",{attrs:{label:"选择分仓"}},[n("el-select",{attrs:{placeholder:"选择分仓"},model:{value:e.select_bucket_id,callback:function(t){e.select_bucket_id=t},expression:"select_bucket_id"}},[n("el-option",{key:"0",attrs:{label:"总仓",value:0}}),e._l(e.notices,(function(e){return n("el-option",{key:e.uid,attrs:{label:e.bucket_name,value:e.uid}})}))],2)],1),n("el-form-item",{attrs:{label:"所有粉丝是否转移"}},[n("el-switch",{model:{value:e.isUpdateLevel,callback:function(t){e.isUpdateLevel=t},expression:"isUpdateLevel"}})],1),n("el-form-item",{attrs:{label:"商品是否转移"}},[n("el-switch",{model:{value:e.isUpdateGood,callback:function(t){e.isUpdateGood=t},expression:"isUpdateGood"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisibleBucket=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateBucket}},[e._v("确 定")])],1)],1):e._e(),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],s=n("5530"),i=n("1da1"),o=(n("ac1f"),n("841c"),n("d81d"),n("99af"),n("96cf"),n("2ef0"),n("c24f")),l=n("cbfe"),c=n("51af"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dndList"},[n("div",{staticClass:"dndList-list",style:{width:e.width2}},[n("h3",[e._v(e._s(e.list2Title))]),n("draggable",{staticClass:"dragArea",attrs:{list:e.list2,group:"article"}},e._l(e.list2,(function(t){return n("div",{key:t.gid,staticClass:"list-complete-item"},[n("div",{staticClass:"list-complete-item-handle2",on:{click:function(n){return e.pushEle(t)}}},[n("div",{staticClass:"blacklist-element"},[n("img",{attrs:{src:e._getFirstImg(t.img),alt:""}}),n("div",[n("p",[e._v("商品id："+e._s(t.gid))]),n("p",[e._v(e._s(t.name))])])])])])})),0)],1),n("div",{staticClass:"dndList-list",style:{width:e.width1}},[n("h3",[e._v(e._s(e.list1Title))]),n("draggable",{staticClass:"dragArea",attrs:{"set-data":e.setData,list:e.list1,group:"article"}},e._l(e.list1,(function(t){return n("div",{key:t.gid,staticClass:"list-complete-item"},[n("div",{staticClass:"list-complete-item-handle"},[n("div",{staticClass:"blacklist-element"},[n("img",{attrs:{src:e._getFirstImg(t.img),alt:""}}),n("div",[n("p",[e._v("商品id："+e._s(t.gid))]),n("p",[e._v(e._s(t.name))])])])]),n("div",{staticStyle:{position:"absolute",right:"0px"}},[n("span",{staticStyle:{float:"right","margin-top":"-20px","margin-right":"5px"},on:{click:function(n){return e.deleteEle(t)}}},[n("i",{staticClass:"el-icon-delete",staticStyle:{color:"#ff4949"}})])])])})),0)],1)])},d=[],p=n("b85c"),m=(n("d3b7"),n("a434"),n("b76a")),g=n.n(m),f={name:"DndList",components:{draggable:g.a},props:{list1:{type:Array,default:function(){return[]}},list2:{type:Array,default:function(){return[]}},list1Title:{type:String,default:"list1"},list2Title:{type:String,default:"list2"},width1:{type:String,default:"48%"},width2:{type:String,default:"48%"}},methods:{isNotInList1:function(e){return this.list1.every((function(t){return e.gid!==t.gid}))},isNotInList2:function(e){return this.list2.every((function(t){return e.gid!==t.gid}))},deleteEle:function(e){var t,n=Object(p["a"])(this.list1);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gid===e.gid){var a=this.list1.indexOf(r);this.list1.splice(a,1);break}}}catch(s){n.e(s)}finally{n.f()}this.isNotInList2(e)&&this.list2.unshift(e)},pushEle:function(e){var t,n=Object(p["a"])(this.list2);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gid===e.gid){var a=this.list2.indexOf(r);this.list2.splice(a,1);break}}}catch(s){n.e(s)}finally{n.f()}this.isNotInList1(e)&&this.list1.push(e)},setData:function(e){e.setData("Text","")},_getFirstImg:function(e){return e?(e=JSON.parse(e),e[0]?e[0]:n("4231")):n("4231")}}},b=f,_=(n("03bc"),n("2877")),h=Object(_["a"])(b,u,d,!1,null,"198868ea",null),v=h.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.userList,height:"300",border:""}},[n("el-table-column",{attrs:{align:"center",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.order_no)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"下单时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.create_time)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.g_price/100)+"元 ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"420",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("span",[e._v(e._s(t.row.goods_name))])]),n("el-form-item",{attrs:{label:"商品单价"}},[n("span",[e._v(e._s(t.row.g_price/100)+"元")])]),n("el-form-item",{attrs:{label:"购买件数"}},[n("span",[e._v(e._s(t.row.g_count))])]),n("el-form-item",{attrs:{label:""}},[n("el-carousel",{attrs:{interval:4e3}},e._l(JSON.parse(t.row.goods_img),(function(e,t){return n("el-carousel-item",{key:t},[n("img",{attrs:{src:e,width:"400"}})])})),1)],1)],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.goods_name))])],1)]}}])}),n("el-table-column",{attrs:{align:"center","show-overflow-tooltip":!0,label:"买方信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"320",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("span",[e._v(e._s(t.row.buyer_nickname))])]),n("el-form-item",{attrs:{label:"开户行"}},[n("span",[e._v(e._s(t.row.buyer_bankname))])]),n("el-form-item",{attrs:{label:"卡号"}},[n("span",[e._v(e._s(t.row.buyer_bankno))])]),n("el-form-item",{attrs:{label:"收款人"}},[n("span",[e._v(e._s(t.row.buyer_payeename))])]),n("el-form-item",{attrs:{label:"电话"}},[n("span",[e._v(e._s(t.row.buyer_phone))])])],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.buyer_nickname))])],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"卖方信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"320",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("span",[e._v(e._s(t.row.saler_nickname))])]),n("el-form-item",{attrs:{label:"开户行"}},[n("span",[e._v(e._s(t.row.saler_bankname))])]),n("el-form-item",{attrs:{label:"卡号"}},[n("span",[e._v(e._s(t.row.saler_bankno))])]),n("el-form-item",{attrs:{label:"收款人"}},[n("span",[e._v(e._s(t.row.saler_payeename))])]),n("el-form-item",{attrs:{label:"电话"}},[n("span",[e._v(e._s(t.row.saler_phone))])])],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.saler_nickname))])],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"支付凭证"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.viewOrderPayImg(t.row.uid,t.row.order_id)}}},[e._v("查看")])]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","class-name":"status-col",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r.pay_state)}},[e._v(" "+e._s(e._getStateStr(r.pay_state))+" ")])]}}])})],1),n("el-dialog",{attrs:{title:e.viewOrderPayImgTitle,visible:e.viewOrderPayImgDialogVisible},on:{"update:visible":function(t){e.viewOrderPayImgDialogVisible=t}}},[n("el-carousel",{attrs:{width:"100%",interval:4e3}},e._l(e.orderPayImgList,(function(e,t){return n("el-carousel-item",{key:t},[n("img",{staticStyle:{width:"380px",margin:"10px"},attrs:{src:e.img}})])})),1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.viewOrderPayImgDialogVisible=!1}}},[e._v("关闭")])],1)],1),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},k=[],y=(n("a9e3"),{name:"orderList",props:{uid:{type:Number},orderType:{type:String,default:""}},filters:{stateFilter:function(e){return 0==e?"info":1==e?"primary":2==e?"success":"warning"}},data:function(){return{submitBtnLock:!1,userList:[],orderPayImgList:[],viewOrderPayImgDialogVisible:!1,viewOrderPayImgTitle:"",page:{page_index:0,page_size:10,total_count:0}}},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserOrderList();case 1:case"end":return t.stop()}}),t)})))()},methods:{viewOrderPayImg:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={uid:e,order_id:t},r.next=3,Object(o["M"])(a);case 3:s=r.sent,n.orderPayImgList=s.data,n.viewOrderPayImgDialogVisible=!0,n.viewOrderPayImgTitle="查看支付凭证";case 7:case"end":return r.stop()}}),r)})))()},getUserOrderList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{uid:e.uid,order_type:e.orderType}),t.next=3,"fansOrder"==e.orderType?Object(o["t"])(n):Object(o["w"])(n);case 3:r=t.sent,e.userList=r.data.list,e.page.page_index=r.data.page_index,e.page.page_size=r.data.page_size,e.page.total_count=r.data.total_count;case 8:case"end":return t.stop()}}),t)})))()},_getDefaultImg:function(e){return e||n("4231")},_getFirstImg:function(e){return e?(e=JSON.parse(e),e[0]?e[0]:n("4231")):n("4231")},_getStateStr:function(e){return 0==e?"待支付":1==e?"买家已支付":2==e?"卖家已确认":"未知"},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()}}}),x=y,O=(n("b26b"),Object(_["a"])(x,w,k,!1,null,"4684db9c",null)),S=O.exports,j=n("5763"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{"highlight-current-row":"",data:e.couponList,"row-key":"coupon_id",border:""}},[n("el-table-column",{attrs:{align:"center","show-overflow-tooltip":!0,width:"240",label:"优惠券"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"使用说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"优惠券价值(元)",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.value/100).toFixed(2))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"使用门槛(元)",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.threshold/100).toFixed(2))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"有效时长(天)",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.valid_day)+" ")]}}])}),n("el-table-column",{attrs:{label:"优惠券状态",align:"center","class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r)}},[e._v(" "+e._s(e._getStateStr(r.state))+" ")])]}}])})],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"提现审核"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e._getDefaultImg(e.usercoupon.avatar)}}),n("div",[n("p",[n("span",[e._v("卡号：")]),e._v(e._s(e.usercoupon.payee_bankno))]),n("p",[n("span",[e._v("开户行：")]),e._v(e._s(e.usercoupon.payee_bankname))]),n("p",[n("span",[e._v("收款人：")]),e._v(e._s(e.usercoupon.payee_name))]),n("p",[n("span",[e._v("手机号：")]),e._v(e._s(e.usercoupon.phone))]),n("p",[n("span",[e._v("申请金额：")]),e._v(e._s(e.usercoupon.amount))]),n("p",[n("span",[e._v("提现前总收入：")]),e._v(e._s(e.usercoupon.before_total_income))]),n("p",[n("span",[e._v("提现前剩余可提现收益：")]),e._v(e._s(e.usercoupon.before_availble_income))])])]),n("el-form",{attrs:{"label-width":"120px",model:e.usercoupon,"label-position":"left"}},[n("el-form-item",{attrs:{label:"审核备注"}},[n("el-input",{attrs:{placeholder:"审核备注"},model:{value:e.usercoupon.ack_reason,callback:function(t){e.$set(e.usercoupon,"ack_reason",t)},expression:"usercoupon.ack_reason"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.updateUsercoupon(-1)}}},[e._v("拒绝")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateUsercoupon(1)}}},[e._v("同意")])],1)],1)],1)},R=[],C={filters:{stateFilter:function(e){return 0==e?"danger":1==e?"success":"warning"}},name:"couponList",props:{uid:{type:Number}},data:function(){return{listLoading:!0,couponList:[],usercoupon:[],dialogVisible:!1}},computed:{},created:function(){this.getList()},methods:{_getDefaultImg:function(e){return e||n("4231")},_getStateStr:function(e){return 0==e?"已过期":1==e?"正常":"已过期"},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={uid:e.uid},t.next=3,Object(o["r"])(n);case 3:r=t.sent,e.couponList=r.data,e.listLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},ackUsercoupon:function(e){this.usercoupon=e,this.dialogVisible=!0},updateUsercoupon:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.usercoupon.ack=e,r={uid:t.usercoupon.uid,coupon_id:t.usercoupon.id,ack:e,ack_reason:t.usercoupon.ack_reason},n.next=4,ackUsercoupon(r);case 4:a=n.sent,s=a.res_code,i=a.msg,t.$message({message:i,type:s>0?"success":"error"}),s>0&&(t.getList(),t.dialogVisible=!1);case 9:case"end":return n.stop()}}),n)})))()}}},I=C,z=(n("4837"),Object(_["a"])(I,L,R,!1,null,"d2295ed8",null)),U=z.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.goodsList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"商品ID",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.gid)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品编号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.code+t.row.gid)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",width:"200","show-overflow-tooltip":!0,label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"初始价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.base_price/100).toFixed(2))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.price/100).toFixed(2))+" ")]}}])}),n("el-table-column",{attrs:{align:"center","show-overflow-tooltip":!0,label:"商品简介"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.summary)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",width:"100",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("img",{staticClass:"goods-img",attrs:{src:e._getFirstImg(t.row.img),alt:""}})]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","class-name":"status-col",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r.state)}},[e._v(" "+e._s(e._getStateStr(r.state))+" ")])]}}])})],1),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},V=[],D=(n("7db0"),n("b0c0"),n("c405")),B={name:"userGoodsRush",props:{uid:{type:Number}},filters:{stateFilter:function(e){return 0==e?"warning":e>0&&e<4?"primary":4==e?"success":5==e?"danger":"info"}},data:function(){return{page:{page_index:0,page_size:10,total_count:0},goodsList:[],stateMapList:[{id:0,name:"未上架"},{id:1,name:"已上架"},{id:2,name:"待支付"},{id:3,name:"已支付"},{id:4,name:"已确认"},{id:5,name:"待解决"},{id:6,name:"已提货"},{id:7,name:"已发货"}]}},components:{},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:e.getGoods();case 3:case"end":return t.stop()}}),t)})))()},methods:{getCategories:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(D["c"])();case 2:n=t.sent,e.categories=n.data;case 4:case"end":return t.stop()}}),t)})))()},getGoods:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{uid:e.uid}),t.next=3,Object(o["i"])(n);case 3:r=t.sent,e.goodsList=r.data.list,e.page.page_index=r.data.page_index,e.page.page_size=r.data.page_size,e.page.total_count=r.data.total_count;case 8:case"end":return t.stop()}}),t)})))()},_getFirstImg:function(e){var t=JSON.parse(e);return t.length>0?t[0]:n("4231")},_getAllImg:function(e){return JSON.parse(e)},_getStateStr:function(e){return 0==e?"未上架":1==e?"已上架":2==e?"待支付":3==e?"已支付":4==e?"已确认":5==e?"待解决":6==e?"已提货":7==e?"已发货":void 0},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getGoods();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getGoods();case 3:case"end":return n.stop()}}),n)})))()},_getCategoryName:function(e){var t=this.categories.find((function(t){return t.cid==e}));return t?t.name:""}}},$=B,T=(n("c1f5"),Object(_["a"])($,P,V,!1,null,"b64877a4",null)),F=T.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.userList,border:""}},[n("el-table-column",{attrs:{align:"center",width:"180","show-overflow-tooltip":!0,label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"昵称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nickname)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"邀请时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.create_time)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"关系",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.level?"一级粉丝":"二级粉丝")+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"粉丝购买订单"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.viewOrderPayImg(t.row.uid)}}},[e._v("查看")])]}}])})],1),n("el-dialog",{attrs:{title:e.viewOrderPayImgTitle,visible:e.viewOrderPayImgDialogVisible},on:{"update:visible":function(t){e.viewOrderPayImgDialogVisible=t}}},[n("FansOrderList",{key:(new Date).getTime(),attrs:{uid:e.fansid,orderType:"fansOrder"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.viewOrderPayImgDialogVisible=!1}}},[e._v("关闭")])],1)],1),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},W=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.userList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.order_no)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"下单时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.create_time)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.g_price/100)+"元 ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"420",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("span",[e._v(e._s(t.row.goods_name))])]),n("el-form-item",{attrs:{label:"商品单价"}},[n("span",[e._v(e._s(t.row.g_price/100)+"元")])]),n("el-form-item",{attrs:{label:"购买件数"}},[n("span",[e._v(e._s(t.row.g_count))])]),n("el-form-item",{attrs:{label:""}},[n("el-carousel",{attrs:{interval:4e3}},e._l(JSON.parse(t.row.goods_img),(function(e,t){return n("el-carousel-item",{key:t},[n("img",{attrs:{src:e,width:"400"}})])})),1)],1)],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.goods_name))])],1)]}}])}),n("el-table-column",{attrs:{align:"center","show-overflow-tooltip":!0,label:"买方信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"320",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("span",[e._v(e._s(t.row.buyer_nickname))])]),n("el-form-item",{attrs:{label:"开户行"}},[n("span",[e._v(e._s(t.row.buyer_bankname))])]),n("el-form-item",{attrs:{label:"卡号"}},[n("span",[e._v(e._s(t.row.buyer_bankno))])]),n("el-form-item",{attrs:{label:"收款人"}},[n("span",[e._v(e._s(t.row.buyer_payeename))])]),n("el-form-item",{attrs:{label:"电话"}},[n("span",[e._v(e._s(t.row.buyer_phone))])])],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.buyer_nickname))])],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"卖方信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top",width:"320",trigger:"hover"}},[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("span",[e._v(e._s(t.row.saler_nickname))])]),n("el-form-item",{attrs:{label:"开户行"}},[n("span",[e._v(e._s(t.row.saler_bankname))])]),n("el-form-item",{attrs:{label:"卡号"}},[n("span",[e._v(e._s(t.row.saler_bankno))])]),n("el-form-item",{attrs:{label:"收款人"}},[n("span",[e._v(e._s(t.row.saler_payeename))])]),n("el-form-item",{attrs:{label:"电话"}},[n("span",[e._v(e._s(t.row.saler_phone))])])],1),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(t.row.saler_nickname))])],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"支付凭证"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.viewOrderPayImg(t.row.uid,t.row.order_id)}}},[e._v("查看")])]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","class-name":"status-col",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{type:e._f("stateFilter")(r.pay_state)}},[e._v(" "+e._s(e._getStateStr(r.pay_state))+" ")])]}}])})],1),n("el-dialog",{attrs:{title:e.viewOrderPayImgTitle,"append-to-body":!0,visible:e.viewOrderPayImgDialogVisible},on:{"update:visible":function(t){e.viewOrderPayImgDialogVisible=t}}},[n("el-carousel",{attrs:{width:"100%",interval:4e3}},e._l(e.orderPayImgList,(function(e,t){return n("el-carousel-item",{key:t},[n("img",{staticStyle:{width:"380px",margin:"10px"},attrs:{src:e.img}})])})),1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.viewOrderPayImgDialogVisible=!1}}},[e._v("关闭")])],1)],1),n("el-pagination",{staticClass:"pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-size":e.page.page_size,"pager-count":11,total:e.page.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},G=[],A={name:"orderList",props:{uid:{type:Number},orderType:{type:String,default:""}},filters:{stateFilter:function(e){return 0==e?"info":1==e?"primary":2==e?"success":"warning"}},data:function(){return{submitBtnLock:!1,userList:[],orderPayImgList:[],viewOrderPayImgDialogVisible:!1,viewOrderPayImgTitle:"",page:{page_index:0,page_size:10,total_count:0}}},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserOrderList();case 1:case"end":return t.stop()}}),t)})))()},methods:{viewOrderPayImg:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={uid:e,order_id:t},r.next=3,Object(o["M"])(a);case 3:s=r.sent,n.orderPayImgList=s.data,n.viewOrderPayImgDialogVisible=!0,n.viewOrderPayImgTitle="查看支付凭证";case 7:case"end":return r.stop()}}),r)})))()},getUserOrderList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{uid:e.uid,order_type:e.orderType}),t.next=3,"fansOrder"==e.orderType?Object(o["t"])(n):Object(o["w"])(n);case 3:r=t.sent,e.userList=r.data.list,e.page.page_index=r.data.page_index,e.page.page_size=r.data.page_size,e.page.total_count=r.data.total_count;case 8:case"end":return t.stop()}}),t)})))()},_getDefaultImg:function(e){return e||n("4231")},_getFirstImg:function(e){return e?(e=JSON.parse(e),e[0]?e[0]:n("4231")):n("4231")},_getStateStr:function(e){return 0==e?"待支付":1==e?"买家已支付":2==e?"卖家已确认":"未知"},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()}}},J=A,M=(n("4402"),Object(_["a"])(J,E,G,!1,null,"1adf9427",null)),H=M.exports,Q={name:"userFans",props:{uid:{type:Number}},filters:{stateFilter:function(e){return 0==e?"danger":1==e?"success":"warning"}},data:function(){return{fansid:"",submitBtnLock:!1,userList:[],orderPayImgList:[],viewOrderPayImgDialogVisible:!1,viewOrderPayImgTitle:"",page:{page_index:0,page_size:10,total_count:0}}},components:{FansOrderList:H},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserOrderList();case 1:case"end":return t.stop()}}),t)})))()},methods:{viewOrderPayImg:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.fansid=e,t.viewOrderPayImgDialogVisible=!0,t.viewOrderPayImgTitle="粉丝购买订单";case 3:case"end":return n.stop()}}),n)})))()},getUserOrderList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{uid:e.uid}),t.next=3,Object(o["s"])(n);case 3:r=t.sent,e.userList=r.data.list,e.page.page_index=r.data.page_index,e.page.page_size=r.data.page_size,e.page.total_count=r.data.total_count;case 8:case"end":return t.stop()}}),t)})))()},_getDefaultImg:function(e){return e||n("4231")},_getFirstImg:function(e){return e?(e=JSON.parse(e),e[0]?e[0]:n("4231")):n("4231")},_getStateStr:function(e){return 0==e?"停用":1==e?"正常":"未知"},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getUserOrderList();case 3:case"end":return n.stop()}}),n)})))()}}},K=Q,q=(n("b09c"),Object(_["a"])(K,N,W,!1,null,"52252895",null)),X=q.exports,Y=n("dd81"),Z={filters:{stateFilter:function(e){return 0==e?"danger":1==e?"success":"warning"}},data:function(){return{tableHeight:400,search:{nickname:"",phone:"",isbad:"",has_recommender:""},has_recommenderoptions:[{label:"请选择",value:""},{label:"有",value:1},{label:"无",value:0}],isbadoptions:[{label:"请选择",value:""},{label:"有",value:1},{label:"无",value:0}],coupon:"",couponDialogVisible:!1,submitBtnLock:!1,userList:[],selectCouponList:[],dialogVisible:!1,goodsListDialogVisible:!1,resetPwdDialogVisible:!1,setRecommenderDialogVisible:!1,page:{page_index:0,page_size:10,total_count:0},loading:!1,recommenderId:void 0,recommenderList:[],usergod:{},dndList1:[],dndList2:[],userPwd:{},dialogVisibleBucket:!1,select_bucket_id:"",isUpdateLevel:!1,isUpdateGood:!1,select_uid:"",notices:[]}},components:{DndList:v,OrderList:S,withdrawal:j["default"],couponList:U,userGoodsRush:F,userfans:X},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserList(),e.getCoupons(),e.tableHeight=document.documentElement.clientHeight-300;case 3:case"end":return t.stop()}}),t)})))()},methods:{getUserList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&(t.page.page_index=0),r=Object(s["a"])(Object(s["a"])({},t.page),{},{nickname:t.search.nickname,phone:t.search.phone,isbad:t.search.isbad,has_recommender:t.search.has_recommender}),n.next=4,Object(o["v"])(r);case 4:a=n.sent,t.userList=a.data.list,t.page.page_index=a.data.page_index,t.page.page_size=a.data.page_size,t.page.total_count=a.data.total_count;case 9:case"end":return n.stop()}}),n)})))()},exportUserList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])(Object(s["a"])({},e.page),{},{nickname:e.search.nickname,phone:e.search.phone,isbad:e.search.isbad,has_recommender:e.search.has_recommender}),t.next=3,Object(o["f"])(n);case 3:r=t.sent,window.open(window.location.origin+window.location.pathname+r.data.substr(1,r.data.length),"_blank");case 5:case"end":return t.stop()}}),t)})))()},onClearAllUser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:"TQ"==e?t.$confirm("确定要清空所有用户特权吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Y["b"])();case 2:n=e.sent,n.res_code>0&&t.$message({message:n.msg,type:n.res_code>0?"success":"error"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){})):"HMD"==e&&t.$confirm("确定要清空所有用户的商品黑名单?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Y["a"])();case 2:n=e.sent,n.res_code>0&&t.$message({message:n.msg,type:n.res_code>0?"success":"error"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){}));case 1:case"end":return n.stop()}}),n)})))()},getCoupons:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["a"])({},e.page),t.next=3,Object(l["c"])(n);case 3:r=t.sent,e.selectCouponList=r.data;case 5:case"end":return t.stop()}}),t)})))()},handleSetCoupon:function(){var e=this.$refs.userTable.selection.map((function(e){return e.uid}));0!=e.length?this.couponDialogVisible=!0:this.$message({type:"warning",message:"请先选择用户"})},onSetUserCoupon:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$refs.userTable.selection.map((function(e){return e.uid})),t.next=3,Object(l["d"])({uids:n,coupon_id:e.coupon});case 3:r=t.sent,a=r.res_code,s=r.msg,a>0?(e.getUserList(),e.$message({type:"success",message:s}),e.couponDialogVisible=!1):e.$message({type:"warning",message:s});case 7:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.dialogVisible=!0,t.submitBtnLock=!1,n.next=4,Object(o["u"])({uid:e.row.uid});case 4:r=n.sent,a=r.res_code,s=r.data,a>0&&(t.usergod=s);case 8:case"end":return n.stop()}}),n)})))()},remoteMethod:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""===e){n.next=9;break}return t.loading=!0,n.next=4,Object(o["m"])({uid:t.userPwd.uid,searchkey:e});case 4:r=n.sent,t.recommenderList=r.data,t.loading=!1,n.next=10;break;case 9:t.recommenderList=[];case 10:case"end":return n.stop()}}),n)})))()},onSetRecommender:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["K"])({uid:e.userPwd.uid,recommender_id:e.recommenderId});case 2:n=t.sent,r=n.res_code,a=n.msg,r>0?(e.getUserList(),e.$message({type:"success",message:a}),e.setRecommenderDialogVisible=!1):e.$message({type:"warning",message:a});case 6:case"end":return t.stop()}}),t)})))()},handleModifyState:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("forbidden"!=t){n.next=8;break}return n.next=3,Object(o["g"])({uid:e.uid});case 3:r=n.sent,a=r.res_code,a>0&&(e.state=0),n.next=14;break;case 8:if("allow"!=t){n.next=14;break}return n.next=11,Object(o["h"])({uid:e.uid});case 11:s=n.sent,i=s.res_code,i>0&&(e.state=1);case 14:case"end":return n.stop()}}),n)})))()},moreSetting:function(e){var t=this,n=e.key,r=e.scope,a=(r.$index,r.row);"setRole"==n?this.handleEdit(e.scope):"openBucket"==n?this.$confirm("确定要为用户 ".concat(a.nickname,"独立分仓吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])({uid:a.uid,bucket_name:"".concat(a.nickname,"分仓"),admin_uid:a.uid});case 2:n=e.sent,r=n.res_code,r>0&&t.$message({type:"success",message:"分仓成功!"});case 5:case"end":return e.stop()}}),e)})))).catch((function(e){t.$message({type:"success",message:"分仓失败!"})})):"setBankAccess"==n?this.$confirm("确定要为用户 ".concat(a.nickname,"(").concat(a.phone,")开通编辑银行卡权限吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["I"])({uid:a.uid,access:1});case 2:n=e.sent,r=n.res_code,r>0&&t.$message({type:"success",message:"开通成功!"});case 5:case"end":return e.stop()}}),e)})))).catch((function(e){t.$message({type:"success",message:"开通失败!"})})):"setBad"==n?this.$confirm("确定要将用户 ".concat(a.nickname,"(").concat(a.phone,")设为").concat(0==a.bad?"恶意":"正常","用户?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["F"])({uid:a.uid,isbad:0==a.bad?1:0});case 2:n=e.sent,r=n.res_code,r>0&&(t.getUserList(),t.$message({type:"success",message:"设置成功!"}));case 5:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)})):"setAdmin"==n?this.$confirm("确定要将用户 ".concat(a.nickname,"(").concat(a.phone,")设为").concat(-1==a.roles.indexOf(1)?"管理员":"普通","用户?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(-1!=a.roles.indexOf(1)){e.next=6;break}return e.next=3,Object(o["E"])({uid:a.uid});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Object(o["B"])({uid:a.uid});case 8:e.t0=e.sent;case 9:n=e.t0,r=n.res_code,r>0&&(t.getUserList(),t.$message({type:"success",message:"设置成功!"}));case 12:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)})):"setUserRecommender"==n?(this.setRecommenderDialogVisible=!0,this.userPwd={uid:a.uid,nickname:a.nickname,phone:a.phone}):"resetPwd"==n?(this.userPwd={uid:a.uid,nickname:a.nickname,phone:a.phone,new_pwd:""},this.resetPwdDialogVisible=!0):"deleteUser"==n?this.$confirm("确定删除用户 ".concat(a.nickname,"(").concat(a.phone,")?"),"警告",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])({uid:a.uid});case 2:n=e.sent,r=n.res_code,r>0&&(t.getUserList(),t.$message({type:"success",message:"删除成功!"}));case 5:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)})):"resetUser"===n&&this.$confirm("确定要为用户 ".concat(a.nickname,"恢复账号吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["C"])({uid:a.uid});case 2:n=e.sent,r=n.res_code,r>0&&t.$message({type:"success",message:"恢复成功!"});case 5:case"end":return e.stop()}}),e)})))).catch((function(e){t.$message({type:"success",message:"恢复失败!"})}))},_getDefaultImg:function(e){return e||n("a9bd")},_getFirstImg:function(e){return e?(e=JSON.parse(e),e[0]?e[0]:n("4231")):n("4231")},_getStateStr:function(e){return 0==e?"停用":1==e?"正常":"未知"},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_size=e,n.next=3,t.getUserList();case 3:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.page.page_index=e-1,n.next=3,t.getUserList();case 3:case"end":return n.stop()}}),n)})))()},selectBlackListGoods:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.goodsListDialogVisible=!0,t.next=3,Object(o["n"])({page_index:0,page_size:1e3});case 3:n=t.sent,r=n.res_code,a=n.data,r>0&&(e.dndList1=[],e.dndList2=a.list);case 7:case"end":return t.stop()}}),t)})))()},blackListFinish:function(){this.goodsListDialogVisible=!1,this.usergod.god.blacklist.data=this.dndList1},onResetUserPwd:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.resetPwdDialogVisible=!1,t.next=3,Object(o["D"])({uid:e.userPwd.uid,pwd:e.userPwd.new_pwd});case 3:n=t.sent,e.$message({message:n.msg,type:n.res_code>0?"success":"error"});case 5:case"end":return t.stop()}}),t)})))()},updateUserGodState:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.usergod.god.blacklist.use=!0,e.usergod.god.godtime.use=!0,e.usergod.god.limit.use=!0,t.next=5,Object(o["J"])(Object(s["a"])(Object(s["a"])({},e.usergod.god),{},{uid:e.usergod.uid}));case 5:n=t.sent,n.res_code,n.data,e.dialogVisible=!1;case 9:case"end":return t.stop()}}),t)})))()},deleteUserList:function(){this.$router.push("/user/recyclelist")},updateBucket:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(e),t.dialogVisibleBucket=!0,t.select_bucket_id=e.bucket_id,t.select_uid=e.uid,t.getNotices();case 5:case"end":return n.stop()}}),n)})))()},getNotices:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["c"])();case 2:n=t.sent,e.notices=n.data;case 4:case"end":return t.stop()}}),t)})))()},handleUpdateBucket:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["L"])({uid:e.select_uid,bucket_id:e.select_bucket_id,isUpdateLevel:e.isUpdateLevel?1:0,isUpdateGood:e.isUpdateGood?1:0});case 2:n=t.sent,1===n.res_code&&(e.$message({type:"success",message:"修改成功!"}),e.dialogVisibleBucket=!1),e.getUserList();case 5:case"end":return t.stop()}}),t)})))()}}},ee=Z,te=(n("10db5"),Object(_["a"])(ee,r,a,!1,null,"63f3b572",null));t["default"]=te.exports},dd81:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n("b775");function a(e){return Object(r["a"])({url:"/admin/sync/syncRush",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/sync/syncShelves",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/sync/celarAllUserBlackList",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/admin/sync/clearAllUserPrivilege",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/admin/sync/syncCommon",method:"post",data:e})}}}]);